<html>
    <head>
        <script
            type="text/javascript"
            src="../../js/jquery-1.4.2.min.js">
        </script>
        <script
            type="text/javascript"
            src="../../syntax_highlighter/scripts/shCore.js">
        </script>
        <script
            type="text/javascript"
            src="../../syntax_highlighter/scripts/shBrushJScript.js">
        </script>
        <script
            type="text/javascript"
            src="../../syntax_highlighter/scripts/shBrushPhp.js">
        </script>
        <script
            type="text/javascript"
            src="../../syntax_highlighter/scripts/shBrushXml.js">
        </script>
        <link
            href="../../syntax_highlighter/styles/shCore.css" rel="stylesheet"
            type="text/css"
        />
        <link
            href="../../syntax_highlighter/styles/shCoreEclipse.css"
            rel="stylesheet" type="text/css"
        />
        <link
            href="../../syntax_highlighter/styles/shThemeWordpress.css"
            rel="stylesheet" type="text/css"
        />
    </head>
    <body>
        <pre class="brush: php">&lt;?php
if (!function_exists('debug')) {

    /**
     * Prints out better looking debug information about a variable.
     * This echo directly where it is called.
     * @ignore
     */
    function debug()
    {

        $mixed = func_get_args();
        if (count($mixed) === 1) {
            $mixed = $mixed[0];
        }

        $header =  &quot;=======[Debug]=======&quot;;
        $debug =  &quot;(&quot;.gettype($mixed) . &quot;) &quot; . var_export($mixed, true);
        $footer =  &quot;=======[Debug]=======&quot;;

        $context = &quot;unknown context at unknown line&quot;;
        foreach (debug_backtrace() as $idx =&gt; $file) {
            if ($file['file'] != __FILE__) {
                $last = explode(DIRECTORY_SEPARATOR, $file['file']);
                $context = sprintf(&quot;In %s at line %s: &quot;, $last[count($last)-1], $file['line']);
                break;
            }
        }

        $app = \Strata\Strata::app();
        $app-&gt;log($context, &quot;[Strata::debug]&quot;);
        $app-&gt;log($debug, &quot;[Strata::debug]&quot;);
        $app-&gt;log(&quot;&quot;, &quot;[Strata::debug]&quot;);


        echo &quot;&lt;pre&gt;&quot;.$header.&quot;\n&quot;;
        echo $debug;
        echo &quot;\n\n&lt;div style=\&quot;overflow:auto; font-size: 12px; font-family: consolas; background:transparent; width:100%; height:80px;\&quot;&gt;&quot;;
        debug_print_backtrace();
        echo &quot;&lt;/div&gt;&quot;;
        echo &quot;\n&quot;.$footer.&quot;&lt;/pre&gt;&quot;;
    }
}
</pre>
        <script type="text/javascript">
             SyntaxHighlighter.all();
             jQuery('.gutter div').each(function(key, data){
                jQuery(data).prepend('<a name="L'+jQuery(data).text()+'"/>');
             });
        </script>
    </body>
</html>