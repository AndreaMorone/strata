<html>
    <head>
        <script
            type="text/javascript"
            src="../../../js/jquery-1.4.2.min.js">
        </script>
        <script
            type="text/javascript"
            src="../../../syntax_highlighter/scripts/shCore.js">
        </script>
        <script
            type="text/javascript"
            src="../../../syntax_highlighter/scripts/shBrushJScript.js">
        </script>
        <script
            type="text/javascript"
            src="../../../syntax_highlighter/scripts/shBrushPhp.js">
        </script>
        <script
            type="text/javascript"
            src="../../../syntax_highlighter/scripts/shBrushXml.js">
        </script>
        <link
            href="../../../syntax_highlighter/styles/shCore.css" rel="stylesheet"
            type="text/css"
        />
        <link
            href="../../../syntax_highlighter/styles/shCoreEclipse.css"
            rel="stylesheet" type="text/css"
        />
        <link
            href="../../../syntax_highlighter/styles/shThemeWordpress.css"
            rel="stylesheet" type="text/css"
        />
    </head>
    <body>
        <pre class="brush: php">&lt;?php
namespace Strata\Model\Validator;

use Strata\Strata;
use Strata\Utility\Inflector;
use Exception;

/**
 * A base class for Validator objects
 */
class Validator {

    /**
     * Generate an instanciate Validator object from a possible string name.
     * @param  string $name The class name of the validator
     * @return Strata\Model\Validator\Validator       A validator
     */
    public static function factory($name)
    {
        // Check for custom validators in the Strata scope as well as in
        // the project scope. Project scope has priority.
        $scopes = array(
            self::generateClassPath($name),
            self::generateClassPath($name, false)
        );

        foreach ($scopes as $validatorName) {
            if (class_exists($validatorName)) {
                return new $validatorName();
            }
        }

        throw new Exception(&quot;Strata : No file matched the validator '$name'.&quot;);
    }

    /**
     * Generates a possible namespace and classname combination of a
     * Strata validator. Mainly used to avoid hardcoding the '\\Validator\\'
     * string everywhere.
     * @param  string $name The class name of the validator
     * @param  boolean $local Generated a path that is relative to the current project. Default to false.
     * @return string       A fulle namespaced controller name
     */
    public static function generateClassPath($name, $local = true)
    {
        $namespace = $local ? Strata::getNamespace() : 'Strata';
        return $namespace . &quot;\\Model\\Validator\\&quot; . self::generateClassName($name);
    }

    public static function generateClassName($name)
    {
        $name = str_replace(&quot;-&quot;, &quot;_&quot;, $name);
        $name = Inflector::underscore($name);
        $name = Inflector::classify($name);

        if (!preg_match(&quot;/Validator$/&quot;, $name)) {
            $name .= &quot;Validator&quot;;
        }

        return $name;
    }


    /**
     * @var string An error message for this validation.
     */
    protected $_errorMessage = &quot;There has been an error with this field.&quot;;

    /**
     * @var array An associative array of options used during the validation.
     */
    protected $_config = array();

    /**
     * Configures the validator
     * @param array $config The associative configuration array
     */
    public function configure($config = array())
    {
        $this-&gt;_config = $config;
    }

    /**
     * The actual test function.
     * @param  mixed $value   [description]
     * @param  \Strata\View\Helper\FormHelper $context The form context upon which the tests are being done
     * @return boolean          True if the test passes
     */
    public function test($value, $context)
    {
        return true;
    }

    /**
     * Fetches the global error message for this validation.
     * @return [type] [description]
     */
    public function getMessage()
    {
        return $this-&gt;_errorMessage;
    }

    /**
     * Sets the global error message for this validation.
     * @return string The message.
     */
    public function setMessage($msg)
    {
        return $this-&gt;_errorMessage = $msg;
    }
}
</pre>
        <script type="text/javascript">
             SyntaxHighlighter.all();
             jQuery('.gutter div').each(function(key, data){
                jQuery(data).prepend('<a name="L'+jQuery(data).text()+'"/>');
             });
        </script>
    </body>
</html>